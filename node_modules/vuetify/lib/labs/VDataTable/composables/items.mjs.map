{"version":3,"file":"items.mjs","names":["makeItemsProps","useItems","computed","getPropertyFromItem","propsFactory","makeDataTableItemProps","itemValue","useDataTableItems","props","columns","items","dataTableItems","value","map","item","type","reduce","obj","column","key","raw"],"sources":["../../../../src/labs/VDataTable/composables/items.ts"],"sourcesContent":["// Composables\nimport { makeItemsProps, useItems } from '@/composables/items'\n\n// Utilities\nimport { computed } from 'vue'\nimport { getPropertyFromItem, propsFactory } from '@/util'\n\n// Types\nimport type { Ref } from 'vue'\nimport type { ItemProps } from '@/composables/items'\nimport type { DataTableItem, InternalDataTableHeader } from '../types'\n\nexport const makeDataTableItemProps = propsFactory({\n  // TODO: Worth it to make specific datatable implementation\n  // without title, children?\n  ...makeItemsProps({\n    itemValue: 'id',\n  }),\n}, 'v-data-table-item')\n\nexport function useDataTableItems (props: ItemProps, columns: Ref<InternalDataTableHeader[]>) {\n  const { items } = useItems(props)\n\n  const dataTableItems = computed<DataTableItem[]>(() => items.value.map(item => {\n    return {\n      ...item,\n      type: 'item',\n      columns: columns.value.reduce((obj, column) => {\n        obj[column.key] = getPropertyFromItem(item.raw, column.value ?? column.key)\n        return obj\n      }, {} as Record<string, unknown>),\n    }\n  }))\n\n  return { items: dataTableItems }\n}\n"],"mappings":"AAAA;AAAA,SACSA,cAAc,EAAEC,QAAQ,0CAEjC;AACA,SAASC,QAAQ,QAAQ,KAAK;AAAA,SACrBC,mBAAmB,EAAEC,YAAY,mCAE1C;AAKA,OAAO,MAAMC,sBAAsB,GAAGD,YAAY,CAAC;EACjD;EACA;EACA,GAAGJ,cAAc,CAAC;IAChBM,SAAS,EAAE;EACb,CAAC;AACH,CAAC,EAAE,mBAAmB,CAAC;AAEvB,OAAO,SAASC,iBAAiB,CAAEC,KAAgB,EAAEC,OAAuC,EAAE;EAC5F,MAAM;IAAEC;EAAM,CAAC,GAAGT,QAAQ,CAACO,KAAK,CAAC;EAEjC,MAAMG,cAAc,GAAGT,QAAQ,CAAkB,MAAMQ,KAAK,CAACE,KAAK,CAACC,GAAG,CAACC,IAAI,IAAI;IAC7E,OAAO;MACL,GAAGA,IAAI;MACPC,IAAI,EAAE,MAAM;MACZN,OAAO,EAAEA,OAAO,CAACG,KAAK,CAACI,MAAM,CAAC,CAACC,GAAG,EAAEC,MAAM,KAAK;QAC7CD,GAAG,CAACC,MAAM,CAACC,GAAG,CAAC,GAAGhB,mBAAmB,CAACW,IAAI,CAACM,GAAG,EAAEF,MAAM,CAACN,KAAK,IAAIM,MAAM,CAACC,GAAG,CAAC;QAC3E,OAAOF,GAAG;MACZ,CAAC,EAAE,CAAC,CAAC;IACP,CAAC;EACH,CAAC,CAAC,CAAC;EAEH,OAAO;IAAEP,KAAK,EAAEC;EAAe,CAAC;AAClC"}