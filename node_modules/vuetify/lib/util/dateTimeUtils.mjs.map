{"version":3,"file":"dateTimeUtils.mjs","names":["createUTCDate","year","month","day","date","Date","UTC","isFinite","getUTCFullYear","setUTCFullYear","firstWeekOffset","firstDayOfWeek","firstDayOfYear","firstWeekDayInFirstWeek","firstWeekDayOfYear","getUTCDay","dayOfYear","isLeapYear","weeksInYear","weekOffset","weekOffsetNext","daysInYear","weekNumber","localeFirstDayOfYear","week","Math","ceil"],"sources":["../../src/util/dateTimeUtils.ts"],"sourcesContent":["function createUTCDate (year: number, month = 0, day = 1) {\n  let date\n  if (year < 100 && year >= 0) {\n    date = new Date(Date.UTC(year, month, day))\n    if (isFinite(date.getUTCFullYear())) {\n      date.setUTCFullYear(year)\n    }\n  } else {\n    date = new Date(Date.UTC(year, month, day))\n  }\n\n  return date\n}\n\nfunction firstWeekOffset (year: number, firstDayOfWeek: number, firstDayOfYear: number) {\n  const firstWeekDayInFirstWeek = 7 + firstDayOfWeek - firstDayOfYear\n  const firstWeekDayOfYear = (7 + createUTCDate(year, 0, firstWeekDayInFirstWeek).getUTCDay() - firstDayOfWeek) % 7\n\n  return -firstWeekDayOfYear + firstWeekDayInFirstWeek - 1\n}\n\nfunction dayOfYear (year: number, month: number, day: number, firstDayOfWeek: number) {\n  let dayOfYear = [0, 31, 59, 90, 120, 151, 181, 212, 243, 273, 304, 334][month]\n  if (month > 1 && isLeapYear(year)) {\n    dayOfYear++\n  }\n\n  return dayOfYear + day\n}\n\nfunction weeksInYear (year: number, firstDayOfWeek: number, firstDayOfYear: number) {\n  const weekOffset = firstWeekOffset(year, firstDayOfWeek, firstDayOfYear)\n  const weekOffsetNext = firstWeekOffset(year + 1, firstDayOfWeek, firstDayOfYear)\n  const daysInYear = isLeapYear(year) ? 366 : 365\n\n  return (daysInYear - weekOffset + weekOffsetNext) / 7\n}\n\nexport function weekNumber (year: number, month: number, day: number, firstDayOfWeek: number, localeFirstDayOfYear: number): number {\n  const weekOffset = firstWeekOffset(year, firstDayOfWeek, localeFirstDayOfYear)\n  const week = Math.ceil((dayOfYear(year, month, day, firstDayOfWeek) - weekOffset) / 7)\n\n  if (week < 1) {\n    return week + weeksInYear(year - 1, firstDayOfWeek, localeFirstDayOfYear)\n  } else if (week > weeksInYear(year, firstDayOfWeek, localeFirstDayOfYear)) {\n    return week - weeksInYear(year, firstDayOfWeek, localeFirstDayOfYear)\n  } else {\n    return week\n  }\n}\n\nexport function isLeapYear (year: number): boolean {\n  return ((year % 4 === 0) && (year % 100 !== 0)) || (year % 400 === 0)\n}\n"],"mappings":"AAAA,SAASA,aAAa,CAAEC,IAAY,EAAsB;EAAA,IAApBC,KAAK,uEAAG,CAAC;EAAA,IAAEC,GAAG,uEAAG,CAAC;EACtD,IAAIC,IAAI;EACR,IAAIH,IAAI,GAAG,GAAG,IAAIA,IAAI,IAAI,CAAC,EAAE;IAC3BG,IAAI,GAAG,IAAIC,IAAI,CAACA,IAAI,CAACC,GAAG,CAACL,IAAI,EAAEC,KAAK,EAAEC,GAAG,CAAC,CAAC;IAC3C,IAAII,QAAQ,CAACH,IAAI,CAACI,cAAc,EAAE,CAAC,EAAE;MACnCJ,IAAI,CAACK,cAAc,CAACR,IAAI,CAAC;IAC3B;EACF,CAAC,MAAM;IACLG,IAAI,GAAG,IAAIC,IAAI,CAACA,IAAI,CAACC,GAAG,CAACL,IAAI,EAAEC,KAAK,EAAEC,GAAG,CAAC,CAAC;EAC7C;EAEA,OAAOC,IAAI;AACb;AAEA,SAASM,eAAe,CAAET,IAAY,EAAEU,cAAsB,EAAEC,cAAsB,EAAE;EACtF,MAAMC,uBAAuB,GAAG,CAAC,GAAGF,cAAc,GAAGC,cAAc;EACnE,MAAME,kBAAkB,GAAG,CAAC,CAAC,GAAGd,aAAa,CAACC,IAAI,EAAE,CAAC,EAAEY,uBAAuB,CAAC,CAACE,SAAS,EAAE,GAAGJ,cAAc,IAAI,CAAC;EAEjH,OAAO,CAACG,kBAAkB,GAAGD,uBAAuB,GAAG,CAAC;AAC1D;AAEA,SAASG,SAAS,CAAEf,IAAY,EAAEC,KAAa,EAAEC,GAAW,EAAEQ,cAAsB,EAAE;EACpF,IAAIK,SAAS,GAAG,CAAC,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,CAAC,CAACd,KAAK,CAAC;EAC9E,IAAIA,KAAK,GAAG,CAAC,IAAIe,UAAU,CAAChB,IAAI,CAAC,EAAE;IACjCe,SAAS,EAAE;EACb;EAEA,OAAOA,SAAS,GAAGb,GAAG;AACxB;AAEA,SAASe,WAAW,CAAEjB,IAAY,EAAEU,cAAsB,EAAEC,cAAsB,EAAE;EAClF,MAAMO,UAAU,GAAGT,eAAe,CAACT,IAAI,EAAEU,cAAc,EAAEC,cAAc,CAAC;EACxE,MAAMQ,cAAc,GAAGV,eAAe,CAACT,IAAI,GAAG,CAAC,EAAEU,cAAc,EAAEC,cAAc,CAAC;EAChF,MAAMS,UAAU,GAAGJ,UAAU,CAAChB,IAAI,CAAC,GAAG,GAAG,GAAG,GAAG;EAE/C,OAAO,CAACoB,UAAU,GAAGF,UAAU,GAAGC,cAAc,IAAI,CAAC;AACvD;AAEA,OAAO,SAASE,UAAU,CAAErB,IAAY,EAAEC,KAAa,EAAEC,GAAW,EAAEQ,cAAsB,EAAEY,oBAA4B,EAAU;EAClI,MAAMJ,UAAU,GAAGT,eAAe,CAACT,IAAI,EAAEU,cAAc,EAAEY,oBAAoB,CAAC;EAC9E,MAAMC,IAAI,GAAGC,IAAI,CAACC,IAAI,CAAC,CAACV,SAAS,CAACf,IAAI,EAAEC,KAAK,EAAEC,GAAG,EAAEQ,cAAc,CAAC,GAAGQ,UAAU,IAAI,CAAC,CAAC;EAEtF,IAAIK,IAAI,GAAG,CAAC,EAAE;IACZ,OAAOA,IAAI,GAAGN,WAAW,CAACjB,IAAI,GAAG,CAAC,EAAEU,cAAc,EAAEY,oBAAoB,CAAC;EAC3E,CAAC,MAAM,IAAIC,IAAI,GAAGN,WAAW,CAACjB,IAAI,EAAEU,cAAc,EAAEY,oBAAoB,CAAC,EAAE;IACzE,OAAOC,IAAI,GAAGN,WAAW,CAACjB,IAAI,EAAEU,cAAc,EAAEY,oBAAoB,CAAC;EACvE,CAAC,MAAM;IACL,OAAOC,IAAI;EACb;AACF;AAEA,OAAO,SAASP,UAAU,CAAEhB,IAAY,EAAW;EACjD,OAASA,IAAI,GAAG,CAAC,KAAK,CAAC,IAAMA,IAAI,GAAG,GAAG,KAAK,CAAE,IAAMA,IAAI,GAAG,GAAG,KAAK,CAAE;AACvE"}